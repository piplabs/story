syntax = "proto3";
package story.dkg.v1.types;

import "story/dkg/v1/types/types.proto";

option go_package = "github.com/piplabs/story/client/x/dkg/types";

enum EventType {
  EVENT_TYPE_UNSPECIFIED = 0;
  EVENT_TYPE_BEGIN_INITIALIZATION = 1;
  EVENT_TYPE_BEGIN_NETWORK_SET = 2;
  EVENT_TYPE_BEGIN_DEALING = 3;
  EVENT_TYPE_BEGIN_DEAL_VERIFICATION = 4;
  EVENT_TYPE_BEGIN_FINALIZATION = 5;
  EVENT_TYPE_DKG_FINALIZED = 6;
}

message EventBeginInitialization {
  bytes mrenclave = 1;
  uint32 round = 2;
  uint32 start_block = 3;
  repeated string active_validators = 4;
}

message EventBeginNetworkSet {
  bytes mrenclave = 1;
  uint32 round = 2;
  uint32 total = 3;
  uint32 threshold = 4;
}

message EventBeginDealing {
  bytes mrenclave = 1;
  uint32 round = 2;
}

message EventBeginProcessDeals {
  bytes mrenclave = 1;
  uint32 round = 2;
  repeated types.Deal deals = 3;
}

message EventBeginProcessResponses {
  bytes mrenclave = 1;
  uint32 round = 2;
  repeated types.Response responses = 3;
}

message EventBeginFinalization {
  bytes mrenclave = 1;
  uint32 round = 2;
}

message EventDKGFinalized {
  bytes mrenclave = 1;
  uint32 round = 2;
}
